<div class="dashboard-container">
  <div class="dashboard-header">
    <h1>Dashboard Overview</h1>
    <button class="btn-refresh" (click)="loadDashboardStats()" [disabled]="isLoading">
      <i class="fas fa-sync-alt" [class.spin]="isLoading"></i>
      Refresh
    </button>
  </div>

  <!-- Error Message -->
  <div *ngIf="error" class="error-message">
    <i class="fas fa-exclamation-circle"></i>
    <p>{{ error }}</p>
    <button class="btn-retry" (click)="loadDashboardStats()">Retry</button>
  </div>

  <!-- Stats Grid -->
  <div *ngIf="stats && !isLoading" class="stats-grid">
    <!-- User Stats -->
    <div class="stat-card">
      <div class="stat-icon users">
        <i class="fas fa-users"></i>
      </div>
      <div class="stat-content">
        <h3>{{ formatNumber(stats.totalUsers || 0) }}</h3>
        <p>Total Users</p>
        <small class="stat-trend">
          <i class="fas fa-user-plus"></i>
          {{ stats.newUsersToday || 0 }} new today
        </small>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon active">
        <i class="fas fa-user-check"></i>
      </div>
      <div class="stat-content">
        <h3>{{ formatNumber(stats.activeUsers || 0) }}</h3>
        <p>Active Users</p>
        <small class="stat-trend">
          {{ stats.totalUsers ? ((stats.activeUsers || 0) / stats.totalUsers * 100).toFixed(1) : '0' }}% active rate
        </small>
      </div>
    </div>

    <!-- Membership Stats -->
    <div class="stat-card">
      <div class="stat-icon memberships">
        <i class="fas fa-id-card"></i>
      </div>
      <div class="stat-content">
        <h3>{{ formatNumber(stats.totalMemberships || 0) }}</h3>
        <p>Total Memberships</p>
        <small class="stat-trend">
          {{ stats.activeMemberships || 0 }} active
        </small>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon revenue">
        <i class="fas fa-rupee-sign"></i>
      </div>
      <div class="stat-content">
        <h3>{{ formatCurrency(stats.totalRevenue || 0) }}</h3>
        <p>Total Revenue</p>
        <small class="stat-trend">
          {{ formatCurrency(stats.revenueToday || 0) }} today
        </small>
      </div>
    </div>

    <!-- Content Stats -->
    <div class="stat-card">
      <div class="stat-icon programs">
        <i class="fas fa-dumbbell"></i>
      </div>
      <div class="stat-content">
        <h3>{{ formatNumber(stats.programsCount || 0) }}</h3>
        <p>Programs</p>
        <small class="stat-trend">
          Active programs
        </small>
      </div>
    </div>

    <div class="stat-card">
      <div class="stat-icon recordings">
        <i class="fas fa-video"></i>
      </div>
      <div class="stat-content">
        <h3>{{ formatNumber(stats.recordingsCount || 0) }}</h3>
        <p>Recordings</p>
        <small class="stat-trend">
          Total yoga sessions
        </small>
      </div>
    </div>
  </div>

  <!-- Quick Actions -->
  <div *ngIf="!isLoading" class="quick-actions">
    <h3>Quick Actions</h3>
    <div class="actions-grid">
      <a routerLink="/admin/users" class="action-card">
        <i class="fas fa-users"></i>
        <span>Manage Users</span>
        <small>View all users</small>
      </a>
      
      <a routerLink="/admin/recordings" class="action-card">
        <i class="fas fa-video"></i>
        <span>Manage Recordings</span>
        <small>Add/edit recordings</small>
      </a>
      
      <a routerLink="/admin/recordings/new" class="action-card">
        <i class="fas fa-plus-circle"></i>
        <span>Add Recording</span>
        <small>Upload new video</small>
      </a>
    </div>
  </div>

  <!-- Loading State -->
  <div *ngIf="isLoading" class="loading-state">
    <div class="spinner"></div>
    <p>Loading dashboard data...</p>
  </div>
</div>